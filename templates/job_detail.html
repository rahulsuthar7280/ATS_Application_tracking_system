<!DOCTYPE html>
<html lang="en">
{% load static %}
<head>
    <meta charset="utf-8">
    <title>{{ job.title }} - Job Details</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">

    <link href="{% static 'img/favicon.ico' %}" rel="icon">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;500;600&family=Inter:wght@700;800&display=swap" rel="stylesheet">
    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <link href="{% static 'lib/animate/animate.min.css' %}" rel="stylesheet">
    <link href="{% static 'lib/owlcarousel/assets/owl.carousel.min.css' %}" rel="stylesheet">

    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">

    <link href="{% static 'css/career_mianpage.css' %}" rel="stylesheet">

    <style>
        /* Define colors using the Django context, falling back to Bootstrap default */
        :root {
            /* Django Variables mapped to CSS variables for primary color application */
            --theme-primary: {{ theme_settings.theme_primary_color|default:'#1e3a8a' }};
            --theme-secondary: {{ theme_settings.theme_secondary_color|default:'#eef2f6' }};
            --theme-background: {{ theme_settings.theme_background_color|default:'#f7f9fc' }};
            --theme-primary-text: {{ theme_settings.theme_primary_color_text|default:'#ffffff' }};
            --theme-secondary-text: {{ theme_settings.theme_secondary_color_text|default:'#333333' }};
            --theme-background-text: {{ theme_settings.theme_background_color_text|default:'#333333' }};
        }

        /* 1. FORCE ALL PRIMARY COLOR STYLES */
        .text-primary, 
        .navbar-brand h1, 
        .fa.text-primary, 
        .bi.text-primary {
            color: var(--theme-primary) !important;
        }

        .btn-primary,
        .bg-primary,
        .back-to-top {
            background-color: var(--theme-primary) !important;
            border-color: var(--theme-primary) !important;
            color: var(--theme-primary-text) !important; /* Use variable for text color */
        }
        
        .btn-primary:hover, 
        .btn-primary:focus, 
        .btn-primary:active,
        .back-to-top:hover {
            /* Darken for hover effect */
            filter: brightness(85%); 
        }
        
        /* 2. FORCE SECONDARY COLOR STYLES (Used for light backgrounds and components) */
        .bg-light, /* Used for job summary/company detail boxes */
        .btn-secondary,
        .container-xxxl.py-5.bg-dark.page-header, /* Overrides the page header background */
        .container-fluid.bg-dark.footer /* Overrides the footer background */
        {
            background-color: var(--theme-secondary) !important;
            border-color: var(--theme-secondary) !important;
        }

        /* Set text color for elements on the secondary (light) background */
        .bg-light,
        .container-xxxl.py-5.bg-dark.page-header h1,
        .container-xxxl.py-5.bg-dark.page-header .breadcrumb li,
        .container-fluid.bg-dark.footer * {
            color: var(--theme-secondary-text) !important;
        }
        
        .container-fluid.bg-dark.footer h5 {
            color: var(--theme-primary) !important;
        }

        /* Keep the active breadcrumb primary color */
        .container-xxxl.py-5.bg-dark.page-header .breadcrumb .active {
             color: var(--theme-primary) !important; 
        }
        
        /* 3. FORCE BACKGROUND COLOR STYLES */
        body {
            background-color: var(--theme-background) !important;
            color: var(--theme-background-text) !important;
        }

        /* Handle spinner border color separately */
        .spinner-border.text-primary {
            border-color: currentColor;
            border-right-color: var(--theme-primary) !important; 
        }

        /* --- New styles for interactive pop-up layout --- */

        .modal-content {
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .modal-header, .modal-footer {
            border: none;
        }

        .modal-header .btn-close {
            background-color: #e9ecef;
            border-radius: 50%;
            padding: 8px;
            opacity: 0.8;
            transition: opacity 0.3s ease;
        }

        .modal-header .btn-close:hover {
            opacity: 1;
        }

        .form-control {
            border-radius: 8px;
            border: 1px solid #dee2e6;
            padding: 12px;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
        }

        .form-control:focus {
            border-color: var(--theme-primary);
            box-shadow: 0 0 0 0.25rem rgba(33, 108, 245, 0.25);
        }

        .form-label {
            font-weight: 500;
            color: #495057;
            margin-bottom: 8px;
        }

        .btn-primary.w-100.py-3 {
            border-radius: 8px;
            transition: transform 0.2s ease;
        }

        .btn-primary.w-100.py-3:hover {
            transform: translateY(-2px);
        }

        /* --- End of new styles --- */

    </style>
    
</head>

<body>
    <div class="container-xxxl bg-white p-0">
        <div id="spinner" class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
            <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
                <span class="sr-only">Loading...</span>
            </div>
        </div>

        {% if messages %}
            <div id="message-container" style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1050; text-align: center;">
                {% for message in messages %}
                    <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                        {{ message }}
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>
                {% endfor %}
            </div>
        {% endif %}
        <nav class="navbar navbar-expand-lg bg-white navbar-light shadow sticky-top p-0">
            <a href="index.html" class="navbar-brand d-flex align-items-center text-center py-0 px-4 px-lg-5">
                <img src="{{ company_info.company_logo.url }}" alt="{{ company_info.company_name }}" style="max-height: 50px;">
                
                
                <h1 class="m-0 text-primary">{{ company_name.company_name }}</h1>
              
            </a>
            <button type="button" class="navbar-toggler me-4" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarCollapse">
                <div class="navbar-nav ms-auto p-4 p-lg-0">
                    
                </div>
                <a href="{% url 'career_mainpage' %}" class="btn btn-primary rounded-0 py-4 px-lg-5 d-none d-lg-block">Main Page<i class="fa fa-arrow-right ms-3"></i></a>
            </div>
        </nav>
        <div class="container-xxxl py-5 bg-dark page-header mb-5">
            <div class="container my-5 pt-5 pb-4" >
                <span style="color: white;"><h2 class="display-3 text-white mb-3 animated slideInDown" style="color: white;">{{ job.title }}</h1></span>
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb text-uppercase">
                        <li class="breadcrumb-item"><a href="#">Home</a></li>
                        <li class="breadcrumb-item"><a href="#">Pages</a></li>
                        </ol>
                            <button type="button" class="btn btn-primary py-3 px-5 mb-4" data-bs-toggle="modal" data-bs-target="#applyJobModal">
                                Apply
                            </button>
                </nav>
            </div>
        </div>
        <div class="container-xxxl py-5 wow fadeInUp" data-wow-delay="0.1s">
            <div class="container">
                <div class="row gy-5 gx-4">
                    <div class="col-lg-8">

                        <div class="d-flex align-items-center mb-5">
                             {% if job.company_logo %}
                                <img class="flex-shrink-0 img-fluid border rounded" src="{{ job.company_logo.url }}" alt="" style="width: 80px; height: 80px;">
                            {% endif %}
                            <div class="text-start">
                                <h3 class="mb-3">{{ job.title }}</h3>
                                <span class="text-truncate me-3"><i class="fa fa-map-marker-alt text-primary me-2"></i>{{ job.location }}</span>
                                <span class="text-truncate me-3"><i class="far fa-clock text-primary me-2"></i>{{ job.job_type }}</span>
                                <span class="text-truncate me-0"><i class="far fa-money-bill-alt text-primary me-2"></i>{{ job.salary }}</span>
                            </div>
                        </div>

                        <div class="mb-5">
                            <h4 class="mb-3">Job description</h4>
                            <p>{{ job.description|linebreaksbr }}</p>
                            
                            {% if job.responsibilities %}
                            <h4 class="mb-3">Responsibility</h4>
                            <p>{{ job.responsibilities|linebreaksbr }}</p>
                            {% endif %}

                            {% if job.qualifications %}
                            <h4 class="mb-3">Qualifications</h4>
                            <p>{{ job.qualifications|linebreaksbr }}</p>
                            {% endif %}

                            {% if job.skills %}
                            <h4 class="mb-3">Skills Required</h4>
                            <p>{{ job.skills|linebreaksbr }}</p>
                            {% endif %}
                        </div>
        
                        <div class="">
                            <button type="button" class="btn btn-primary py-3 px-5 mb-4" data-bs-toggle="modal" data-bs-target="#applyJobModal">
                                Apply For This Job
                            </button>
                        </div>

                        <div class="modal fade" id="applyJobModal" tabindex="-1" aria-labelledby="applyJobModalLabel" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered modal-lg">
                                <div class="modal-content p-4">
                                    <div class="modal-header border-0">
                                        <h4 class="modal-title fw-bold text-center w-100" id="applyJobModalLabel">Apply for the Job</h4>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body pt-0">
                                        <form method="post" enctype="multipart/form-data">
                                            {% csrf_token %}
                                            <div class="row g-3">
                                                {% if form_settings.first_name_enabled %}
                                                <div class="col-md-6">
                                                    <div class="mb-3">
                                                        <label for="first_name" class="form-label">First Name</label>
                                                        <input type="text" class="form-control" id="first_name" name="first_name" placeholder="First Name">
                                                    </div>
                                                </div>
                                                {% endif %}
                                                {% if form_settings.last_name_enabled %}
                                                <div class="col-md-6">
                                                    <div class="mb-3">
                                                        <label for="last_name" class="form-label">Last Name</label>
                                                        <input type="text" class="form-control" id="last_name" name="last_name" placeholder="Last Name">
                                                    </div>
                                                </div>
                                                {% endif %}
                                                {% if form_settings.email_enabled %}
                                                <div class="col-md-6">
                                                    <div class="mb-3">
                                                        <label for="email" class="form-label">Email Address</label>
                                                        <input type="email" class="form-control" id="email" name="email" placeholder="Email Address">
                                                    </div>
                                                </div>
                                                {% endif %}
                                                {% if form_settings.phone_enabled %}
                                                <div class="col-md-6">
                                                    <div class="mb-3">
                                                        <label for="phone_number" class="form-label">Phone Number</label>
                                                        <input type="tel" class="form-control" id="phone_number" name="phone_number" placeholder="Phone Number">
                                                    </div>
                                                </div>
                                                {% endif %}
                                                {% if form_settings.experience_enabled %}
                                                <div class="col-md-6">
                                                    <div class="mb-3">
                                                        <label for="experience" class="form-label">Total Experience (in years)</label>
                                                        <input type="text" class="form-control" id="experience" name="experience" placeholder="Total Experience" pattern="[0-9]*" oninput="this.value = this.value.replace(/[^0-9]/g, '');">
                                                    </div>
                                                </div>
                                                {% endif %}
                                                {% if form_settings.current_ctc_enabled %}
                                                <div class="col-md-6">
                                                    <div class="mb-3">
                                                        <label for="current_ctc" class="form-label">Current CTC</label>
                                                        <input type="text" class="form-control" id="current_ctc" name="current_ctc" placeholder="Current CTC">
                                                    </div>
                                                </div>
                                                {% endif %}
                                                {% if form_settings.expected_ctc_enabled %}
                                                <div class="col-md-6">
                                                    <div class="mb-3">
                                                        <label for="expected_ctc" class="form-label">Expected CTC</label>
                                                        <input type="text" class="form-control" id="expected_ctc" name="expected_ctc" placeholder="Expected CTC">
                                                    </div>
                                                </div>
                                                {% endif %}
                                                {% if form_settings.notice_period_enabled %}
                                                <div class="col-md-6">
                                                    <div class="mb-3">
                                                        <label for="notice_period" class="form-label">Notice Period</label>
                                                        <input type="text" class="form-control" id="notice_period" name="notice_period" placeholder="Notice Period">
                                                    </div>
                                                </div>
                                                {% endif %}
                                                {% if form_settings.qualification_enabled %}
                                                <div class="col-12">
                                                    <div class="mb-3">
                                                        <label for="qualification" class="form-label">Highest Qualification</label>
                                                        <input type="text" class="form-control" id="qualification" name="qualification" placeholder="Highest Qualification">
                                                    </div>
                                                </div>
                                                {% endif %}
                                                {% if form_settings.linkedin_url_enabled %}
                                                <div class="col-12">
                                                    <div class="mb-3">
                                                        <label for="linkedin_url" class="form-label">LinkedIn Profile URL</label>
                                                        <input type="url" class="form-control" id="linkedin_url" name="linkedin_url" placeholder="LinkedIn Profile URL">
                                                    </div>
                                                </div>
                                                {% endif %}

                                                {% for field in form_settings.additional_fields %}
                                                <div class="col-12">
                                                    <div class="mb-3">
                                                        <label for="additional_field_{{ forloop.counter }}" class="form-label">{{ field.name }}</label>
                                                        <input type="{{ field.type }}" class="form-control" id="additional_field_{{ forloop.counter }}" name="additional_field_{{ forloop.counter }}" placeholder="{{ field.name }}">
                                                    </div>
                                                </div>
                                                {% endfor %}

                                                {% if form_settings.resume_enabled %}
                                                <div class="col-12">
                                                    <div class="mb-3">
                                                        <label for="resume" class="form-label">Resume (PDF, DOCX)</label>
                                                        <input type="file" class="form-control" id="resume" name="resume" required>
                                                    </div>
                                                </div>
                                                {% endif %}
                                                {% if form_settings.cover_letter_enabled %}
                                                <div class="col-12">
                                                    <div class="mb-3">
                                                        <label for="cover_letter" class="form-label">Cover Letter (Optional)</label>
                                                        <input type="file" class="form-control" id="cover_letter" name="cover_letter">
                                                    </div>
                                                </div>
                                                {% endif %}
                                            </div>
                                        </form>
                                    </div>
                                    <div class="modal-footer border-0">
                                        <button type="submit" class="btn btn-primary w-100 py-3">Apply Now</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
        
                    <div class="col-lg-4">
                        <div class="bg-light rounded p-5 wow slideInUp" data-wow-delay="0.1s">
                            <h4 class="mb-4">Job Summary</h4>
                            <p><i class="fa fa-angle-right text-primary me-2"></i>Published On: {{ job.created_at|date:"F d, Y" }}</p>
                            <p><i class="fa fa-angle-right text-primary me-2"></i>Vacancy: 123</p>
                            <p><i class="fa fa-angle-right text-primary me-2"></i>Job Type: {{ job.job_type }}</p>
                            <p><i class="fa fa-angle-right text-primary me-2"></i>Salary: {{ job.salary|default:"Not Disclosed" }}</p>
                            <p><i class="fa fa-angle-right text-primary me-2"></i>Location: {{ job.location }}</p>
                            <p><i class="fa fa-angle-right text-primary me-2"></i>Experience: {{ job.experience|default:"N/A" }}</p>
                        </div>

                        <div class="bg-light rounded p-5 wow slideInUp" data-wow-delay="0.1s">
                            <h4 class="mb-4">Company Details</h4>
                            {% if company_info.company_logo %}
                                <img class="img-fluid rounded mb-4" style="width: 50px;" src="{{ company_info.company_logo.url }}" alt="{{ company_info.company_name }}">
                            {% endif %}
                            <h5 class="mb-3">{{ company_info.company_name|default:"Company Name Not Set" }}</h5>
                            <p class="m-0">{{ company_info.address|default:"Address Not Set" }}</p>
                            <hr class="my-3">
                            <a class="btn btn-primary" href="#">Read More</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid bg-dark text-white-50 footer pt-5 mt-5 wow fadeIn" data-wow-delay="0.1s">
            <div class="container py-5">
                <div class="row g-5">
                    <div class="col-lg-3 col-md-6">
                        <h5 class="text-white mb-4">Company Details</h5>
                        <a class="btn btn-link text-white-50" href="{{ company_info.about_us_url|default:'#' }}">About Us</a>
                        <a class="btn btn-link text-white-50" href="{{ company_info.contact_us_url|default:'#' }}">Contact Us</a>
                        <a class="btn btn-link text-white-50" href="{{ company_info.our_services_url|default:'#' }}">Our Services</a>
                        <a class="btn btn-link text-white-50" href="{{ company_info.privacy_policy_url|default:'#' }}">Privacy Policy</a>
                        <a class="btn btn-link text-white-50" href="{{ company_info.terms_and_conditions_url|default:'#' }}">Terms & Condition</a>
                    </div>
                    <div class="col-lg-3 col-md-6">
                       
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <h5 class="text-white mb-4">Contact</h5>
                        {% if company_info.address %}
                            <p class="mb-2"><i class="fa fa-map-marker-alt me-3"></i>{{ company_info.address }}</p>
                        {% endif %}
                        {% if company_info.phone_number %}
                            <p class="mb-2"><i class="fa fa-phone-alt me-3"></i>{{ company_info.phone_number }}</p>
                        {% endif %}
                        {% if company_info.email %}
                            <p class="mb-2"><i class="fa fa-envelope me-3"></i>{{ company_info.email }}</p>
                        {% endif %}
                        <div class="d-flex pt-2">
                            {% if company_info.twitter_url %}
                                <a class="btn btn-outline-light btn-social" href="{{ company_info.twitter_url }}" target="_blank"><i class="fab fa-twitter"></i></a>
                            {% endif %}
                            {% if company_info.facebook_url %}
                                <a class="btn btn-outline-light btn-social" href="{{ company_info.facebook_url }}" target="_blank"><i class="fab fa-facebook-f"></i></a>
                            {% endif %}
                            {% if company_info.youtube_url %}
                                <a class="btn btn-outline-light btn-social" href="{{ company_info.youtube_url }}" target="_blank"><i class="fab fa-youtube"></i></a>
                            {% endif %}
                            {% if company_info.linkedin_url %}
                                <a class="btn btn-outline-light btn-social" href="{{ company_info.linkedin_url }}" target="_blank"><i class="fab fa-linkedin-in"></i></a>
                            {% endif %}
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <h5 class="text-white mb-4">Newsletter</h5>
                        <p>Dolor et eos labore stet justo sed est sed</p>
                        <div class="position-relative mx-auto" style="max-width: 400px;">
                            <input class="form-control bg-transparent w-100 py-3 ps-4 pe-5" type="text" placeholder="Your Email">
                            <button type="button" class="btn btn-primary py-2 position-absolute top-0 end-0 mt-2 me-2">SignUp</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="copyright">
                    <div class="row">
                        <div class="col-md-6 text-center text-md-start mb-3 mb-md-0">
                            &copy; 2024 <a class="border-bottom" href="#">{{ company_info.company_name|default:"Your Company" }}</a>, All Right Reserved.
                        </div>
                        <div class="col-md-6 text-center text-md-end">
                            <div class="footer-menu">
                                <a href="#">Home</a>
                                <a href="#">Cookies</a>
                                <a href="#">Help</a>
                                <a href="#">FQAs</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <a href="#top" class="btn btn-lg btn-primary btn-lg-square back-to-top"><i class="bi bi-arrow-up"></i></a>
    </div>

    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{% static 'lib/wow/wow.min.js' %}""></script>
    <script src="{% static 'lib/easing/easing.min.js' %}""></script>
    <script src="{% static 'lib/waypoints/waypoints.min.js' %}""></script>
    <script src="{% static 'lib/owlcarousel/owl.carousel.min.js' %}""></script>

    <script src="{% static 'js/main.js' %}""></script>
</body>

</html>